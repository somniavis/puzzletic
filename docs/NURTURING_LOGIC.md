# ì–‘ìœ¡ ë¡œì§ ìƒì„¸ ë¬¸ì„œ (Nurturing Logic Documentation)

> ë²„ì „: 1.0.0
> ìµœì¢… ì—…ë°ì´íŠ¸: 2025-11-15
> ì‘ì„±ì: Claude Code

---

## ğŸ“‹ ëª©ì°¨

1. [ì‹œìŠ¤í…œ ê°œìš”](#ì‹œìŠ¤í…œ-ê°œìš”)
2. [ë¡œì§ í‹± ì‹œìŠ¤í…œ](#ë¡œì§-í‹±-ì‹œìŠ¤í…œ)
3. [ìŠ¤íƒ¯ ì‹œìŠ¤í…œ](#ìŠ¤íƒ¯-ì‹œìŠ¤í…œ)
4. [ìì—° ê°ì†Œ ë¡œì§](#ìì—°-ê°ì†Œ-ë¡œì§)
5. [ìƒí˜¸ ì•…í™” ë¡œì§](#ìƒí˜¸-ì•…í™”-ë¡œì§)
6. [í–‰ë™ ì‹œìŠ¤í…œ](#í–‰ë™-ì‹œìŠ¤í…œ)
7. [ë˜¥ ì‹œìŠ¤í…œ](#ë˜¥-ì‹œìŠ¤í…œ)
8. [ì˜¤í”„ë¼ì¸ ì§„í–‰](#ì˜¤í”„ë¼ì¸-ì§„í–‰)
9. [ê°€ì¶œ ì‹œìŠ¤í…œ](#ê°€ì¶œ-ì‹œìŠ¤í…œ)
10. [ë°¸ëŸ°ìŠ¤ ì¡°ì • ê°€ì´ë“œ](#ë°¸ëŸ°ìŠ¤-ì¡°ì •-ê°€ì´ë“œ)
11. [ì—…ë°ì´íŠ¸ íˆìŠ¤í† ë¦¬](#ì—…ë°ì´íŠ¸-íˆìŠ¤í† ë¦¬)

---

## ì‹œìŠ¤í…œ ê°œìš”

### í•µì‹¬ ì»¨ì…‰

Puzzleleticì˜ ì–‘ìœ¡ ì‹œìŠ¤í…œì€ **ë‹¤ë§ˆê³ ì¹˜ ìŠ¤íƒ€ì¼**ì˜ ì‹¤ì‹œê°„ ì¼€ì–´ ê²Œì„ì…ë‹ˆë‹¤.

**ê¸°ë³¸ ì›ë¦¬:**
```
5ì´ˆ = 1 ë¡œì§ í‹± (Logic Tick)
ë§¤ í‹±ë§ˆë‹¤ ìë™ìœ¼ë¡œ ìŠ¤íƒ¯ì´ ê°ì†Œ
ì¼ì • ì„ê³„ê°’ ì´í•˜ë¡œ ë–¨ì–´ì§€ë©´ ë‹¤ë¥¸ ìŠ¤íƒ¯ì—ë„ ì•…ì˜í–¥
ì ì ˆí•œ í–‰ë™(ë¨¹ì´ê¸°, ì²­ì†Œ, ë†€ì´)ìœ¼ë¡œ ìŠ¤íƒ¯ íšŒë³µ
```

**ê²Œì„ ë£¨í”„:**
```
ì¼€ì–´ í•„ìš” â†’ í–‰ë™ ìˆ˜í–‰ â†’ ìŠ¤íƒ¯ íšŒë³µ â†’ í•™ìŠµ/ë†€ì´ â†’ ì¬í™” íšë“
â†’ ì‹œê°„ ê²½ê³¼ â†’ ìŠ¤íƒ¯ ê°ì†Œ â†’ ì¼€ì–´ í•„ìš” (ë°˜ë³µ)
```

---

## ë¡œì§ í‹± ì‹œìŠ¤í…œ

### ì„¤ì •ê°’

**íŒŒì¼ ìœ„ì¹˜:** `src/constants/nurturing.ts`

```typescript
export const TICK_INTERVAL_MS = 5000; // 5ì´ˆ = 1 ë¡œì§ í‹±
```

### ë™ì‘ ë°©ì‹

1. **ì‹¤ì‹œê°„ (ì˜¨ë¼ì¸):**
   ```
   í˜ì´ì§€ ì ‘ì† â†’ 5ì´ˆë§ˆë‹¤ ìë™ìœ¼ë¡œ í‹± ì‹¤í–‰ â†’ ìŠ¤íƒ¯ ê°±ì‹ 
   ```

2. **ì˜¤í”„ë¼ì¸ (ë”°ë¼ì¡ê¸°):**
   ```
   í˜ì´ì§€ ì¬ì ‘ì† â†’ (í˜„ì¬ ì‹œê°„ - ë§ˆì§€ë§‰ ì ‘ì† ì‹œê°„) / 5ì´ˆ = Ní‹±
   â†’ NíšŒ í‹± ë¡œì§ ìˆœì°¨ ì‹¤í–‰ â†’ ìµœì¢… ìŠ¤íƒ¯ ì ìš©
   ```

### í‹± ì‹¤í–‰ ìˆœì„œ

**ì„œë¹„ìŠ¤:** `src/services/gameTickService.ts` - `executeGameTick()`

```typescript
function executeGameTick() {
  // 1. ê¸°ë³¸ ê°ì†Œ ì ìš©
  í¬ë§Œê° -= 0.8
  ì²­ê²°ë„ -= 0.4
  í–‰ë³µë„ -= 0.3
  ê±´ê°• -= 0 (ìì—° ê°ì†Œ ì—†ìŒ)

  // 2. ìƒíƒœ í‰ê°€
  isHungry = í¬ë§Œê° < 30
  isDirty = ì²­ê²°ë„ < 20
  isSick = ê±´ê°• < 50

  // 3. ìƒí˜¸ ì•…í™” í˜ë„í‹° ì ìš©
  if (isHungry) {
    í–‰ë³µë„ -= 0.8
    ê±´ê°• -= 0.6
  }
  if (isDirty) {
    í–‰ë³µë„ -= 0.7
    ê±´ê°• -= 1.2
  }
  if (isSick) {
    í–‰ë³µë„ -= 1.5
    í¬ë§Œê° -= 0.7
  }

  // 4. ë˜¥ í˜ë„í‹° (1ê°œë‹¹)
  for each poop {
    ê±´ê°• -= 0.5
    í–‰ë³µë„ -= 0.4
    ì²­ê²°ë„ -= 0.8
  }

  // 5. ë²”ìœ„ ì œí•œ (0-100)
  ëª¨ë“  ìŠ¤íƒ¯ì„ 0-100 ì‚¬ì´ë¡œ í´ë¨í•‘

  // 6. ê²°ê³¼ ë°˜í™˜
  return { statChanges, condition, penalties, alerts }
}
```

---

## ìŠ¤íƒ¯ ì‹œìŠ¤í…œ

### 3ëŒ€ í•µì‹¬ ì§€ìˆ˜

| ìŠ¤íƒ¯ | ì˜ë¬¸ | ë²”ìœ„ | ì´ˆê¸°ê°’ | ì„¤ëª… |
|------|------|------|--------|------|
| **í¬ë§Œê°** | Fullness | 0-100 | 80 | 100: ë°°ë¶€ë¦„, 0: êµ¶ì£¼ë¦¼ |
| **ê±´ê°•** | Health | 0-100 | 100 | 100: ìµœìƒ, 0: ì£½ìŒ ì„ë°• (ì²­ê²°ë„ + ì§ˆë³‘ í†µí•©) |
| **í–‰ë³µë„** | Happiness | 0-100 | 70 | 100: í–‰ë³µ, 0: ìš°ìš¸/ì‚ì§ |

> âš ï¸ **v1.2.0 ë³€ê²½ì‚¬í•­**: ì²­ê²°ë„ê°€ ê±´ê°•ì— í†µí•©ë˜ì–´ 3ê°œ ìŠ¤íƒ¯ìœ¼ë¡œ ë‹¨ìˆœí™”ë˜ì—ˆìŠµë‹ˆë‹¤.
> ê±´ê°•ì€ ì´ì œ ì²­ê²°(ì²­ì†Œ, ë˜¥)ê³¼ ì§ˆë³‘(ì•½) ëª¨ë‘ë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤.

### ìŠ¤íƒ¯ ìƒíƒœ ë ˆë²¨

```typescript
// src/services/gameTickService.ts - getStatState()
function getStatState(value: number) {
  if (value < 20)  return 'critical';   // ğŸ”´ ìœ„í—˜
  if (value < 50)  return 'warning';    // ğŸŸ  ì£¼ì˜
  if (value < 80)  return 'normal';     // ğŸŸ¢ ë³´í†µ
  return 'excellent';                   // âœ¨ ìµœìƒ
}
```

### ì„ê³„ê°’ (Thresholds)

```typescript
// src/constants/nurturing.ts
export const THRESHOLDS = {
  HUNGER: 30,    // ë°°ê³ í”” ìƒíƒœ
  DIRTY: 20,     // ë”ëŸ¬ì›€ ìƒíƒœ
  SICK: 50,      // ì•„í”” ìƒíƒœ
  CRITICAL: 20,  // ìœ„í—˜
  WARNING: 50,   // ì£¼ì˜
  GOOD: 80,      // ì–‘í˜¸
};
```

---

## ìì—° ê°ì†Œ ë¡œì§

### ê°ì†Œìœ¨ ì„¤ì •

**íŒŒì¼:** `src/constants/nurturing.ts`

```typescript
// 5ì´ˆ(1í‹±)ë‹¹ ê°ì†ŒëŸ‰
export const NATURAL_DECAY = {
  fullness: -0.8,      // í¬ë§Œê° (ê°€ì¥ ë¹ ë¦„)
  happiness: -0.3,     // í–‰ë³µë„
  health: -0.04,       // ë§¤ìš° ëŠë¦° ìì—° ê°ì†Œ
};
```

### ì‹œê°„ë³„ ê°ì†Œ ì‹œë®¬ë ˆì´ì…˜

| ì‹œê°„ | í¬ë§Œê° | ê±´ê°• | í–‰ë³µë„ |
|------|--------|------|--------|
| 0ë¶„ | 100 | 100 | 100 |
| 5ë¶„ | 52 | 99.5 | 82 |
| 10ë¶„ | 4 | 99 | 64 |
| 15ë¶„ | 0 (ìœ„í—˜) | 98.5 | 46 |
| 20ë¶„ | 0 | 98 | 28 |
| 25ë¶„ | 0 | 97.5 | 10 |
| 30ë¶„ | 0 | 97 | 0 |
| 200ë¶„ | 0 | 0 | 0 (ëª¨ë‘ 0) |

**ê²°ë¡ :**
- í¬ë§Œê°ì€ ì•½ 10ë¶„ì— 0 ë„ë‹¬ (ê°€ì¥ ê¸´ê¸‰)
- í–‰ë³µë„ëŠ” ì•½ 27ë¶„ì— 0 ë„ë‹¬
- ê±´ê°•ì€ ì•½ 200ë¶„ì— 0 ë„ë‹¬ (ë§¤ìš° ëŠë¦° ìì—° ê°ì†Œ, í˜ë„í‹°ê°€ ì£¼ì›ì¸)

---

## ìƒí˜¸ ì•…í™” ë¡œì§

### Vicious Cycle (ì•…ìˆœí™˜)

ìŠ¤íƒ¯ì´ ì„ê³„ê°’ ì´í•˜ë¡œ ë–¨ì–´ì§€ë©´ ë‹¤ë¥¸ ìŠ¤íƒ¯ì— ì¶”ê°€ í˜ë„í‹°ë¥¼ ë¶€ì—¬í•©ë‹ˆë‹¤.

#### 1. ë°°ê³ í”” ìƒíƒœ (Hunger)

**ì‹¬ê°í•œ ë°°ê³ í”” (í¬ë§Œê° < 20):**

```typescript
// src/constants/nurturing.ts
export const HUNGER_PENALTY = {
  severe: {
    happiness: -1.2,  // 5ì´ˆë‹¹ 1.2 ê°ì†Œ
    health: -1.0,     // 5ì´ˆë‹¹ 1.0 ê°ì†Œ
  },
  mild: {             // í¬ë§Œê° 20~40
    happiness: -0.6,
    health: -0.5,
  },
};
```

**íš¨ê³¼:**
- í–‰ë³µë„ê°€ ë¹ ë¥´ê²Œ í•˜ë½ ("ë°°ê³ íŒŒì„œ ê¸°ë¶„ì´ ì•ˆ ì¢‹ì•„...")
- ê±´ê°•ë„ ì„œì„œíˆ í•˜ë½ ("ë°°ê³ íŒŒì„œ í˜ì´ ì—†ì–´...")
- **ì‹œê°„:** ì‹¬ê°í•œ ë°°ê³ í”” ì‹œ ì•½ 1ë¶„ì´ë©´ ê±´ê°• 50 ì´í•˜ (ì•„í”” ìƒíƒœ)

#### 2. ì•„í”” ìƒíƒœ (Sick)

**ì¡°ê±´:** `ê±´ê°• < 50`

```typescript
export const SICK_PENALTY = {
  happiness: -1.5,  // 5ì´ˆë‹¹ 1.5 ê°ì†Œ (ìµœëŒ€)
};
```

**íš¨ê³¼:**
- í–‰ë³µë„ **ê¸‰ê²©íˆ** í•˜ë½ ("ë„ˆë¬´ ì•„íŒŒì„œ ì•„ë¬´ê²ƒë„ í•˜ê¸° ì‹«ì–´...")
- âš ï¸ **ì¤‘ìš”:** ì•„í”” ìƒíƒœê°€ ë˜ë©´ **ì•½(+15)**ìœ¼ë¡œ ê°€ì¥ íš¨ê³¼ì ìœ¼ë¡œ íšŒë³µ ê°€ëŠ¥!

#### 3. ë¶ˆí–‰ ìƒíƒœ (Unhappy)

**ì¡°ê±´:** `í–‰ë³µë„ < 20`

```typescript
export const UNHAPPY_PENALTY = {
  health: -0.5,     // 5ì´ˆë‹¹ 0.5 ê°ì†Œ
};
```

**íš¨ê³¼:**
- ê±´ê°• í•˜ë½ ("ìŠ¤íŠ¸ë ˆìŠ¤ë¡œ ì¸í•œ ê±´ê°• ê°ì†Œ")
- í–‰ë³µë„ê°€ ë‚®ìœ¼ë©´ ê±´ê°•ë„ í•¨ê»˜ ì•…í™”

#### 4. ë˜¥ ë°©ì¹˜ (Poop Penalty)

**ì¡°ê±´:** ë˜¥ì´ 1ê°œ ì´ìƒ ìˆì„ ë•Œ

```typescript
// ë˜¥ ê°œìˆ˜ì— ë”°ë¥¸ ëˆ„ì§„ì  í˜ë„í‹°
export const POOP_PENALTY = {
  perPoop: -0.5,       // ë˜¥ 1ê°œë‹¹ í‹±ë§ˆë‹¤ ê±´ê°• -0.5
  twoPoops: -1.0,      // ë˜¥ 2ê°œì¼ ë•Œ í‹±ë§ˆë‹¤ ê±´ê°• -1.0
  threeOrMore: -2.0,   // ë˜¥ 3ê°œ ì´ìƒì¼ ë•Œ í‹±ë§ˆë‹¤ ê±´ê°• -2.0
  happiness: -0.4,     // ë˜¥ 1ê°œë‹¹ í–‰ë³µë„ ê°ì†Œ
};
```

**íš¨ê³¼:**
- ë˜¥ ê°œìˆ˜ì— ë”°ë¼ **ëˆ„ì§„ì ** í˜ë„í‹° ì ìš©
- ì˜ˆ: ë˜¥ 3ê°œ â†’ ê±´ê°• -2.0, í–‰ë³µë„ -1.2 (5ì´ˆë‹¹)
- **ì‹œê°„:** ë˜¥ 3ê°œ ìˆìœ¼ë©´ ì•½ 40ì´ˆì— ê±´ê°• 50 ì´í•˜ (ì•„í”” ìƒíƒœ)

### ì•…ìˆœí™˜ ì‹œë‚˜ë¦¬ì˜¤

```
1ë‹¨ê³„: í¬ë§Œê° í•˜ë½ (10ë¶„ ë°©ì¹˜)
  â†“ í¬ë§Œê° < 20 (ì‹¬ê°í•œ ë°°ê³ í”” ìƒíƒœ)

2ë‹¨ê³„: ë°°ê³ í”” í˜ë„í‹° ë°œìƒ
  â†“ ê±´ê°• -1.0, í–‰ë³µë„ -1.2 (5ì´ˆë‹¹)

3ë‹¨ê³„: ë˜¥ ë°œìƒ (ìŒì‹ ë¨¹ì´ì§€ ëª»í•¨)
  â†“ ë˜¥ 3ê°œ ì´ìƒ ì¶•ì 

4ë‹¨ê³„: ë˜¥ í˜ë„í‹° ë°œìƒ (ì¹˜ëª…ì )
  â†“ ê±´ê°• -2.0 (5ì´ˆë‹¹, ëˆ„ì§„ì )

5ë‹¨ê³„: ê±´ê°• < 50 (ì•„í”” ìƒíƒœ)
  â†“ ì•„í”” í˜ë„í‹° ë°œìƒ (í–‰ë³µë„ -1.5)

6ë‹¨ê³„: í–‰ë³µë„ < 20 (ë¶ˆí–‰ ìƒíƒœ)
  â†“ ê±´ê°• ì¶”ê°€ ê°ì†Œ -0.5

7ë‹¨ê³„: ëª¨ë“  ìŠ¤íƒ¯ ê¸‰ë½
  â†“ í•™ìŠµ ë¶ˆê°€ëŠ¥
  â†“ ì¬í™” íšë“ ë¶ˆê°€
  â†“ íšŒë³µ ë¶ˆê°€
  â†“ ì‚¬ë§
```

---

## í–‰ë™ ì‹œìŠ¤í…œ

### 1. ìŒì‹ ë¨¹ì´ê¸° (Feed)

**íŒŒì¼:** `src/services/actionService.ts` - `feedCharacter()`

**íš¨ê³¼:**
```typescript
ì£¼ìš” íš¨ê³¼:
  í¬ë§Œê°: +[ìŒì‹ë³„] (ì˜ˆ: ì‚¬ê³¼ +20, í”¼ì +60)
  í–‰ë³µë„: +5 (ë¨¹ëŠ” ì¦ê±°ì›€)

ë¶€ì‘ìš©:
  ë˜¥ ìƒì„±: í™•ë¥ ì  (ìŒì‹ë³„ 0.2 ~ 0.8)
  ì²­ê²°ë„: -5 ~ -12 (ë˜¥ ë°œìƒ ì‹œ)
```

**ìŒì‹ë³„ íš¨ê³¼:**

| ìŒì‹ | í¬ë§Œê° | í–‰ë³µë„ | ë˜¥ í™•ë¥  | ì²­ê²°ë„ ê°ì†Œ |
|------|--------|--------|---------|-------------|
| ì‚¬ê³¼ | +20 | +5 | 30% | -5 |
| ë°”ë‚˜ë‚˜ | +25 | +7 | 40% | -5 |
| ìˆ˜ë°• | +30 | +10 | 50% | -7 |
| ì‹ì‚¬ | +50 | +5 | 70% | -10 |
| í”¼ì | +60 | +15 | 80% | -12 |
| ê°„ì‹ | +15 | +10 | 20% | -3 |
| ì¼€ì´í¬ | +40 | +20 | 60% | -8 |

**ì „ëµ:**
- ê¸´ê¸‰: ì‹ì‚¬/í”¼ì (í¬ë§Œê° ë¹ ë¥´ê²Œ íšŒë³µ)
- ìœ ì§€: ê³¼ì¼ (ì¡°ê¸ˆì”© ìì£¼)
- í–‰ë³µ: ì¼€ì´í¬/ê°„ì‹ (í–‰ë³µë„ ë³´ë„ˆìŠ¤)

### 2. ì•½ ë¨¹ì´ê¸° (Medicine)

**íŒŒì¼:** `src/services/actionService.ts` - `giveMedicine()`

**íš¨ê³¼:**
```typescript
ì£¼ìš” íš¨ê³¼:
  ê±´ê°•: +[ì•½ë³„] (ì˜ˆ: ë°˜ì°½ê³  +10, í•­ìƒì œ +40)
  í–‰ë³µë„: +10 (ì•ˆë„ê°)

ë¶€ì‘ìš©:
  ì—†ìŒ (ìˆœìˆ˜ íšŒë³µ)
```

**ì•½ë³„ íš¨ê³¼:**

| ì•½ | ê±´ê°• | í–‰ë³µë„ | ë¹„ê³  |
|----|------|--------|------|
| ë°˜ì°½ê³  | +10 | +10 | ê²½ë¯¸í•œ ìƒì²˜ |
| í•­ìƒì œ | +40 | +10 | ì§ˆë³‘ ì¹˜ë£Œ |
| ê±´ê°• í¬ì…˜ | +60 | +15 | ê¸´ê¸‰ íšŒë³µ |

**ì¤‘ìš” ê·œì¹™:**
```
âš ï¸ ê±´ê°• < 50 (ì•„í”” ìƒíƒœ)ì¼ ë•Œ:
   - ìŒì‹ìœ¼ë¡œëŠ” ê±´ê°• íšŒë³µ ë¶ˆê°€
   - ì²­ì†Œë¡œë„ ê±´ê°• íšŒë³µ ë¶ˆê°€
   - ì˜¤ì§ ì•½ìœ¼ë¡œë§Œ íšŒë³µ ê°€ëŠ¥!
```

### 3. ì²­ì†Œí•˜ê¸° (Clean)

**íŒŒì¼:** `src/services/actionService.ts` - `cleanRoom()`

**íš¨ê³¼:**
```typescript
ì£¼ìš” íš¨ê³¼:
  ì²­ê²°ë„: +40
  í–‰ë³µë„: +5

ë³´ë„ˆìŠ¤:
  ë˜¥ 1ê°œë‹¹ í–‰ë³µë„ +2 ì¶”ê°€
  ëª¨ë“  ë˜¥ ì œê±°

ë¶€ì‘ìš©:
  ì—†ìŒ
```

**ì• ë‹ˆë©”ì´ì…˜:**
- ë¹—ìë£¨ ğŸ§¹ê°€ ê° ë˜¥ì„ ìˆœì°¨ì ìœ¼ë¡œ ì“¸ì–´ëƒ„
- 100ms ê°„ê²©ìœ¼ë¡œ ìˆœì°¨ ì²­ì†Œ
- ë˜¥ì´ íšŒì „í•˜ë©° ì‚¬ë¼ì§

### 4. ë†€ì´í•˜ê¸° (Play)

**íŒŒì¼:** `src/services/actionService.ts` - `playWithCharacter()`

**íš¨ê³¼:**
```typescript
ì£¼ìš” íš¨ê³¼:
  í–‰ë³µë„: +20

ë¹„ìš© (ë¶€ì‘ìš©):
  í¬ë§Œê°: -10
  ì²­ê²°ë„: -5
```

**ìš©ë„:**
- í–‰ë³µë„ê°€ ë‚®ì„ ë•Œ
- í•™ìŠµ ì „ ì»¨ë””ì…˜ ì¡°ì ˆ

### 5. í•™ìŠµí•˜ê¸° (Study) â­

**íŒŒì¼:** `src/services/actionService.ts` - `studyWithCharacter()`

**í•„ìˆ˜ ì¡°ê±´:**
```typescript
export const STUDY_REQUIREMENTS = {
  MIN_HAPPINESS: 30,
  MIN_HEALTH: 30,
  MIN_FULLNESS: 20,
};
```

**íš¨ê³¼:**
```typescript
ì£¼ìš” íš¨ê³¼:
  í–‰ë³µë„: +20
  ì¬í™”: +10 (ê¸°ë³¸)

ë³´ë„ˆìŠ¤:
  ëª¨ë“  ìŠ¤íƒ¯ >= 80: ì¬í™” 2ë°° (+20)

ë¹„ìš©:
  í¬ë§Œê°: -10
  ì²­ê²°ë„: -5
```

**ê²Œì„ ë£¨í”„ì˜ í•µì‹¬:**
```
í•™ìŠµ â†’ ì¬í™” íšë“ â†’ ìŠ¤íƒ¯ ì†Œëª¨
  â†“
ì•„ì´í…œ êµ¬ë§¤ (ì¬í™” ì‚¬ìš©)
  â†“
ìŠ¤íƒ¯ íšŒë³µ
  â†“
ë” íš¨ìœ¨ì ì¸ í•™ìŠµ (ë³´ë„ˆìŠ¤)
  â†“
ë°˜ë³µ (ì„ ìˆœí™˜)
```

---

## ë˜¥ ì‹œìŠ¤í…œ

### ìƒì„± ë¡œì§

**íŒŒì¼:** `src/services/actionService.ts` - `tryCreatePoop()`

```typescript
function tryCreatePoop(foodEffect, existingPoops) {
  // 1. ìµœëŒ€ ê°œìˆ˜ ì²´í¬
  if (existingPoops.length >= 5) return undefined;

  // 2. í™•ë¥  ì²´í¬
  if (Math.random() > foodEffect.poopChance) return undefined;

  // 3. ëœë¤ ìœ„ì¹˜ ìƒì„±
  x: 10% ~ 90%
  y: 30% ~ 90%

  // 4. ë˜¥ ìƒì„±
  return {
    id: unique,
    x, y,
    createdAt: timestamp,
    cleanlinessDebuff: -5 ~ -12
  };
}
```

### í˜ë„í‹°

**ì„¤ì •:** `src/constants/nurturing.ts`

```typescript
// ë˜¥ 1ê°œë‹¹ 5ì´ˆë§ˆë‹¤
export const POOP_PENALTY_PER_ITEM = {
  health: -0.5,
  happiness: -0.4,
  cleanliness: -0.8,
};

export const POOP_CONFIG = {
  INITIAL_CLEANLINESS_DEBUFF: -10,  // ë°œìƒ ì¦‰ì‹œ
  MAX_POOPS: 5,                     // ìµœëŒ€ 5ê°œ
};
```

### ì²­ì†Œ ë°©ë²•

1. **ê°œë³„ í´ë¦­:**
   - ë˜¥ì„ ì§ì ‘ í´ë¦­
   - ë¹—ìë£¨ ì• ë‹ˆë©”ì´ì…˜
   - 400ms í›„ ì œê±°

2. **ì²­ì†Œ ë²„íŠ¼:**
   - í•˜ë‹¨ ğŸ§¹ ë²„íŠ¼ í´ë¦­
   - ëª¨ë“  ë˜¥ ìˆœì°¨ ì²­ì†Œ (100ms ê°„ê²©)
   - ìŠ¤íƒ¯ ì¦ê°€ + ë³´ë„ˆìŠ¤

---

## ì˜¤í”„ë¼ì¸ ì§„í–‰

### ì €ì¥ ì‹œìŠ¤í…œ

**íŒŒì¼:** `src/services/persistenceService.ts`

**ì €ì¥ í‚¤:**
```typescript
const STORAGE_KEY = 'puzzleletic_nurturing_state';
```

**ì €ì¥ ë°ì´í„°:**
```typescript
interface NurturingPersistentState {
  stats: NurturingStats;           // í˜„ì¬ ìŠ¤íƒ¯
  poops: Poop[];                   // ë˜¥ ëª©ë¡
  lastActiveTime: number;          // ë§ˆì§€ë§‰ í™œë™ ì‹œê°„
  tickConfig: GameTickConfig;      // í‹± ì„¤ì •
  totalCurrencyEarned: number;     // ì´ ì¬í™”
  studyCount: number;              // í•™ìŠµ íšŸìˆ˜
}
```

### ë”°ë¼ì¡ê¸° ë¡œì§

**íŒŒì¼:** `src/services/persistenceService.ts` - `applyOfflineProgress()`

```typescript
function applyOfflineProgress(state) {
  const currentTime = Date.now();
  const timeElapsed = currentTime - state.lastActiveTime;

  // 1. í‹± ê°œìˆ˜ ê³„ì‚°
  const ticksElapsed = Math.floor(timeElapsed / 5000);

  // 2. ê° í‹±ë§ˆë‹¤ ìˆœì°¨ ì‹¤í–‰
  for (let i = 0; i < ticksElapsed; i++) {
    executeGameTick(stats, poops);
    // ìŠ¤íƒ¯ ì—…ë°ì´íŠ¸
  }

  // 3. ìµœì¢… ìŠ¤íƒ¯ ë°˜í™˜
  return finalStats;
}
```

**ì˜ˆì‹œ:**
```
ë§ˆì§€ë§‰ ì ‘ì†: 10:00
í˜„ì¬ ì‹œê°„: 10:05 (5ë¶„ ê²½ê³¼)

í‹± ê°œìˆ˜: (5ë¶„ * 60ì´ˆ) / 5ì´ˆ = 60í‹±

ì‹¤í–‰: 60ë²ˆì˜ í‹± ë¡œì§ ìˆœì°¨ ì‹¤í–‰
ê²°ê³¼: í¬ë§Œê° ì•½ 48 ê°ì†Œ, ì²­ê²°ë„ ì•½ 24 ê°ì†Œ, í–‰ë³µë„ ì•½ 18 ê°ì†Œ
```

---

## ê°€ì¶œ ì‹œìŠ¤í…œ

### ê°œìš”

ìºë¦­í„°ë¥¼ ì¥ê¸°ê°„ ë°©ì¹˜í•˜ë©´ ê°€ì¶œí•˜ëŠ” ì‹œìŠ¤í…œì…ë‹ˆë‹¤. ë‹¤ë§ˆê³ ì¹˜ ìŠ¤íƒ€ì¼ì˜ í•µì‹¬ ë©”ì»¤ë‹ˆì¦˜ìœ¼ë¡œ, ì‚¬ìš©ìê°€ ì£¼ê¸°ì ìœ¼ë¡œ ì ‘ì†í•˜ë„ë¡ ìœ ë„í•©ë‹ˆë‹¤.

**ëª©í‘œ**: ì£¼ 2íšŒ ë°©ë¬¸ (3-4ì¼ì— í•œ ë²ˆì”© ì ‘ì†í•˜ë©´ ì•ˆì „)

### íŠ¸ë¦¬ê±° ì¡°ê±´

```typescript
// ê°€ì¶œ ì¹´ìš´íŠ¸ë‹¤ìš´ ì‹œì‘ ì¡°ê±´
ëª¨ë“  ìŠ¤íƒ¯ì´ 0ì¸ ìƒíƒœ:
  fullness === 0 &&
  health === 0 &&
  cleanliness === 0 &&
  happiness === 0
```

**ì¤‘ìš”**:
- ëª¨ë“  ìŠ¤íƒ¯ì´ 0ì´ ë˜ëŠ” ìˆœê°„ë¶€í„° 7ì¼ ì¹´ìš´íŠ¸ë‹¤ìš´ ì‹œì‘
- ì ‘ì† ì¤‘ì´ë“  ë¯¸ì ‘ì†ì´ë“  ìƒê´€ì—†ì´ ì¹´ìš´íŠ¸ë‹¤ìš´ ì§„í–‰
- ìŠ¤íƒ¯ì´ í•˜ë‚˜ë¼ë„ íšŒë³µë˜ë©´ ì¹´ìš´íŠ¸ë‹¤ìš´ **ì¦‰ì‹œ ë¦¬ì…‹**

### 7ì¼ íƒ€ì„ë¼ì¸

```
D-Day 0 (00:00): ëª¨ë“  ìŠ¤íƒ¯ 0 ë„ë‹¬
â”œâ”€ 0ì‹œê°„ ~ 42ì‹œê°„ (0 ~ 1.75ì¼): âš ï¸ ìœ„í—˜ ìƒíƒœ (Danger)
â”‚  â””â”€ "ìºë¦­í„°ê°€ ê´€ì‹¬ì´ í•„ìš”í•©ë‹ˆë‹¤!"
â”‚
â”œâ”€ 42ì‹œê°„ ~ 84ì‹œê°„ (1.75 ~ 3.5ì¼): âš ï¸âš ï¸ ìœ„ê¸° ìƒíƒœ (Critical)
â”‚  â””â”€ "ìºë¦­í„°ê°€ ë§¤ìš° ì•ˆ ì¢‹ì€ ìƒíƒœì…ë‹ˆë‹¤! ë¹¨ë¦¬ ëŒë´ì£¼ì„¸ìš”!"
â”‚
â”œâ”€ 84ì‹œê°„ ~ 168ì‹œê°„ (3.5 ~ 7ì¼): âš ï¸âš ï¸âš ï¸ ì´íƒˆ ì˜ˆê³  (Leaving Soon)
â”‚  â””â”€ "ìºë¦­í„°ê°€ Xì¼ Xì‹œê°„ Xë¶„ í›„ ê°€ì¶œí•©ë‹ˆë‹¤!" (ì‹¤ì‹œê°„ ì¹´ìš´íŠ¸ë‹¤ìš´)
â”‚
â””â”€ 168ì‹œê°„ (7ì¼): ğŸ’€ ê°€ì¶œ (Abandoned)
   â””â”€ "ìºë¦­í„°ê°€ ê°€ì¶œí–ˆìŠµë‹ˆë‹¤..."
```

### êµ¬í˜„ ë¡œì§

#### 1. ë°ì´í„° êµ¬ì¡°

**íŒŒì¼**: `src/types/nurturing.ts`

```typescript
export interface AbandonmentState {
  allZeroStartTime: number | null;  // ëª¨ë“  ìŠ¤íƒ¯ì´ 0ì´ ëœ ì‹œì 
  hasAbandoned: boolean;             // ê°€ì¶œ ì—¬ë¶€
  abandonedAt: number | null;        // ê°€ì¶œ ì‹œì 
}

export type AbandonmentLevel =
  | 'normal'     // ì •ìƒ
  | 'danger'     // ìœ„í—˜ (0 ~ 1.75ì¼)
  | 'critical'   // ìœ„ê¸° (1.75 ~ 3.5ì¼)
  | 'leaving'    // ì´íƒˆ ì˜ˆê³  (3.5 ~ 7ì¼)
  | 'abandoned'; // ê°€ì¶œ ì™„ë£Œ
```

#### 2. ìƒìˆ˜ ì •ì˜

**íŒŒì¼**: `src/constants/nurturing.ts`

```typescript
export const ABANDONMENT_PERIODS = {
  DANGER: 0,                          // 0ì‹œê°„ (ì¦‰ì‹œ)
  CRITICAL: 42 * 60 * 60 * 1000,      // 42ì‹œê°„
  LEAVING: 84 * 60 * 60 * 1000,       // 84ì‹œê°„ (3.5ì¼)
  ABANDONED: 168 * 60 * 60 * 1000,    // 168ì‹œê°„ (7ì¼)
};

export const DEFAULT_ABANDONMENT_STATE: AbandonmentState = {
  allZeroStartTime: null,
  hasAbandoned: false,
  abandonedAt: null,
};
```

#### 3. ì²´í¬ ë¡œì§

**íŒŒì¼**: `src/services/gameTickService.ts`

```typescript
export const checkAbandonmentState = (
  stats: NurturingStats,
  abandonmentState: AbandonmentState,
  currentTime: number
): AbandonmentState => {
  const allStatsZero =
    stats.fullness === 0 &&
    stats.health === 0 &&
    stats.cleanliness === 0 &&
    stats.happiness === 0;

  if (allStatsZero) {
    // ì²˜ìŒ 0ì´ ëœ ì‹œì  ê¸°ë¡
    if (!abandonmentState.allZeroStartTime) {
      abandonmentState.allZeroStartTime = currentTime;
    }

    const timeSinceAllZero = currentTime - abandonmentState.allZeroStartTime;

    // 7ì¼ ê²½ê³¼ â†’ ê°€ì¶œ ì²˜ë¦¬
    if (timeSinceAllZero >= ABANDONMENT_PERIODS.ABANDONED) {
      abandonmentState.hasAbandoned = true;
      abandonmentState.abandonedAt = currentTime;
    }
  } else {
    // ìŠ¤íƒ¯ì´ í•˜ë‚˜ë¼ë„ íšŒë³µë¨ â†’ ì¹´ìš´íŠ¸ë‹¤ìš´ ë¦¬ì…‹
    if (!abandonmentState.hasAbandoned) {
      abandonmentState.allZeroStartTime = null;
    }
  }

  return abandonmentState;
};
```

#### 4. UI ì •ë³´ ì œê³µ

**íŒŒì¼**: `src/services/gameTickService.ts`

```typescript
export const getAbandonmentStatusUI = (
  abandonmentState: AbandonmentState,
  currentTime: number
): AbandonmentStatusUI => {
  // ê°€ì¶œ ì™„ë£Œ
  if (abandonmentState.hasAbandoned) {
    return {
      level: 'abandoned',
      message: 'ìºë¦­í„°ê°€ ê°€ì¶œí–ˆìŠµë‹ˆë‹¤...',
    };
  }

  // ì¹´ìš´íŠ¸ë‹¤ìš´ ì§„í–‰ ì¤‘
  if (abandonmentState.allZeroStartTime) {
    const elapsed = currentTime - abandonmentState.allZeroStartTime;
    const timeLeft = ABANDONMENT_PERIODS.ABANDONED - elapsed;

    // ì´íƒˆ ì˜ˆê³  ë‹¨ê³„
    if (elapsed >= ABANDONMENT_PERIODS.LEAVING) {
      const days = Math.floor(timeLeft / (24 * 60 * 60 * 1000));
      const hours = Math.floor((timeLeft % (24 * 60 * 60 * 1000)) / (60 * 60 * 1000));
      const minutes = Math.floor((timeLeft % (60 * 60 * 1000)) / (60 * 1000));

      return {
        level: 'leaving',
        message: `ìºë¦­í„°ê°€ ${days}ì¼ ${hours}ì‹œê°„ ${minutes}ë¶„ í›„ ê°€ì¶œí•©ë‹ˆë‹¤!`,
        timeLeft,
        countdown: `${days}ì¼ ${hours}ì‹œê°„ ${minutes}ë¶„`,
      };
    }

    // ìœ„ê¸° ë‹¨ê³„
    if (elapsed >= ABANDONMENT_PERIODS.CRITICAL) {
      return {
        level: 'critical',
        message: 'ìºë¦­í„°ê°€ ë§¤ìš° ì•ˆ ì¢‹ì€ ìƒíƒœì…ë‹ˆë‹¤! ë¹¨ë¦¬ ëŒë´ì£¼ì„¸ìš”!',
        timeLeft,
      };
    }

    // ìœ„í—˜ ë‹¨ê³„
    return {
      level: 'danger',
      message: 'ìºë¦­í„°ê°€ ê´€ì‹¬ì´ í•„ìš”í•©ë‹ˆë‹¤!',
      timeLeft,
    };
  }

  // ì •ìƒ ìƒíƒœ
  return {
    level: 'normal',
    message: null,
  };
};
```

### ì‹œë®¬ë ˆì´ì…˜ ì˜ˆì‹œ

#### ì‹œë‚˜ë¦¬ì˜¤ 1: ì ‘ì† ì¤‘ ë°©ì¹˜

```
10:00 - ì ‘ì†, ìºë¦­í„° ë°©ì¹˜
10:30 - ëª¨ë“  ìŠ¤íƒ¯ 0 ë„ë‹¬
       â†’ allZeroStartTime = 10:30 ê¸°ë¡
       â†’ "ìºë¦­í„°ê°€ ê´€ì‹¬ì´ í•„ìš”í•©ë‹ˆë‹¤!" (ìœ„í—˜)

Day 1, 16:30 (10:30 + 1.75ì¼)
       â†’ "ìºë¦­í„°ê°€ ë§¤ìš° ì•ˆ ì¢‹ì€ ìƒíƒœì…ë‹ˆë‹¤!" (ìœ„ê¸°)

Day 4, 04:30 (10:30 + 3.5ì¼)
       â†’ "ìºë¦­í„°ê°€ 3ì¼ 6ì‹œê°„ í›„ ê°€ì¶œí•©ë‹ˆë‹¤!" (ì´íƒˆ ì˜ˆê³ )
       â†’ ì‹¤ì‹œê°„ ì¹´ìš´íŠ¸ë‹¤ìš´ ì‹œì‘

Day 7, 10:30 (10:30 + 7ì¼)
       â†’ ê°€ì¶œ ì™„ë£Œ
```

#### ì‹œë‚˜ë¦¬ì˜¤ 2: ì˜¤í”„ë¼ì¸ ë°©ì¹˜

```
Day 0, 10:00 - ë§ˆì§€ë§‰ ì ‘ì†, ìŠ¤íƒ¯ ì–‘í˜¸
Day 0, 11:00 - (ë¯¸ì ‘ì†) ëª¨ë“  ìŠ¤íƒ¯ 0 ë„ë‹¬
               â†’ allZeroStartTime ê¸°ë¡ (localStorage)

Day 1 ~ 7 - (ë¯¸ì ‘ì†) ì¹´ìš´íŠ¸ë‹¤ìš´ ì§„í–‰ ì¤‘
            - ì„œë²„ê°€ ì—†ì–´ì„œ í‘¸ì‹œ ì•Œë¦¼ ë¶ˆê°€ëŠ¥
            - ë¡œì»¬ìŠ¤í† ë¦¬ì§€ì—ë§Œ ë°ì´í„° ì €ì¥

Day 8, 09:00 - ì¬ì ‘ì†
              â†“
           1. localStorage ì½ê¸°
           2. allZeroStartTime = Day 0, 11:00
           3. í˜„ì¬ ì‹œê°„ = Day 8, 09:00
           4. ê²½ê³¼ ì‹œê°„ = 7ì¼ 22ì‹œê°„
           5. ABANDONED ê¸°ê°„ ì´ˆê³¼
           6. hasAbandoned = true
           7. "ìºë¦­í„°ê°€ ê°€ì¶œí–ˆìŠµë‹ˆë‹¤..." í‘œì‹œ
```

#### ì‹œë‚˜ë¦¬ì˜¤ 3: ì¤‘ê°„ì— íšŒë³µ

```
10:00 - ëª¨ë“  ìŠ¤íƒ¯ 0
       â†’ ì¹´ìš´íŠ¸ë‹¤ìš´ ì‹œì‘

Day 2 (ìœ„ê¸° ë‹¨ê³„)
       â†’ ì‚¬ìš©ì ì ‘ì†
       â†’ ìŒì‹ ë¨¹ì´ê¸° (fullness: 0 â†’ 20)
       â†’ allStatsZero = false
       â†’ allZeroStartTime = null (ë¦¬ì…‹!)
       â†’ ì •ìƒ ìƒíƒœë¡œ ë³µê·€

ë‹¤ì‹œ ë°©ì¹˜
       â†’ ëª¨ë“  ìŠ¤íƒ¯ 0
       â†’ ìƒˆë¡œìš´ ì¹´ìš´íŠ¸ë‹¤ìš´ ì‹œì‘ (ì²˜ìŒë¶€í„°)
```

### í†µí•© ìœ„ì¹˜

#### 1. í‹± ë¡œì§ (ë§¤ 5ì´ˆ)

**íŒŒì¼**: `src/contexts/NurturingContext.tsx`

```typescript
const runGameTick = useCallback(() => {
  setState((currentState) => {
    // ... ê¸°ì¡´ í‹± ë¡œì§ ...

    // ê°€ì¶œ ìƒíƒœ ì²´í¬ ì¶”ê°€
    const updatedAbandonmentState = checkAbandonmentState(
      newStats,
      currentState.abandonmentState,
      Date.now()
    );

    const newState: NurturingPersistentState = {
      ...currentState,
      stats: newStats,
      abandonmentState: updatedAbandonmentState, // ì €ì¥
      // ...
    };

    return newState;
  });
}, []);
```

#### 2. ì˜¤í”„ë¼ì¸ ì§„í–‰

**íŒŒì¼**: `src/services/persistenceService.ts`

```typescript
export const applyOfflineProgress = (state) => {
  // 1. ìŠ¤íƒ¯ ê³„ì‚°
  const { finalStats } = calculateOfflineProgress(...);

  // 2. ê°€ì¶œ ìƒíƒœ ì²´í¬
  const updatedAbandonmentState = checkAbandonmentState(
    finalStats,
    state.abandonmentState,
    currentTime
  );

  return {
    ...state,
    stats: finalStats,
    abandonmentState: updatedAbandonmentState,
  };
};
```

#### 3. Contextì—ì„œ ë…¸ì¶œ

**íŒŒì¼**: `src/contexts/NurturingContext.tsx`

```typescript
interface NurturingContextValue {
  // ...
  abandonmentStatus: AbandonmentStatusUI;  // ê°€ì¶œ ìƒíƒœ ì •ë³´
}

// ì‚¬ìš© ì˜ˆì‹œ
const { abandonmentStatus } = useNurturing();

if (abandonmentStatus.level === 'leaving') {
  console.log(abandonmentStatus.message);
  // "ìºë¦­í„°ê°€ 2ì¼ 5ì‹œê°„ 30ë¶„ í›„ ê°€ì¶œí•©ë‹ˆë‹¤!"
}
```

### í˜„ì¬ ì œí•œ ì‚¬í•­ (ë¡œì»¬ìŠ¤í† ë¦¬ì§€ ê¸°ë°˜)

#### âœ… ê°€ëŠ¥í•œ ê²ƒ
- ì ‘ì† ì‹œ ê°€ì¶œ ìƒíƒœ ì²´í¬ ë° íŒì •
- ì˜¤í”„ë¼ì¸ ê²½ê³¼ ì‹œê°„ ê³„ì‚°
- 7ì¼ ê²½ê³¼ í›„ ê°€ì¶œ ì²˜ë¦¬
- ìŠ¤íƒ¯ íšŒë³µ ì‹œ ì¹´ìš´íŠ¸ë‹¤ìš´ ë¦¬ì…‹

#### âŒ ë¶ˆê°€ëŠ¥í•œ ê²ƒ (ì„œë²„ í•„ìš”)
- **ë¯¸ì ‘ì† ì¤‘ í‘¸ì‹œ ì•Œë¦¼**: "2ì¼ í›„ ê°€ì¶œí•©ë‹ˆë‹¤" ì•Œë¦¼ì„ ë³´ë‚¼ ì„œë²„ê°€ ì—†ìŒ
- **ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§**: ì‚¬ìš©ìê°€ ì ‘ì† ì•ˆ í•´ë„ 7ì¼ì§¸ì— ìë™ìœ¼ë¡œ ì²˜ë¦¬
- **í¬ë¡œìŠ¤ ë””ë°”ì´ìŠ¤ ë™ê¸°í™”**: PC-ëª¨ë°”ì¼ ê°„ ë°ì´í„° ë™ê¸°í™” ë¶ˆê°€
- **ì„œë²„ ì‚¬ì´ë“œ ìŠ¤ì¼€ì¤„ë§**: ë§¤ì¼ ì²´í¬í•´ì„œ ê°€ì¶œ ì„ë°• ìœ ì €ì—ê²Œ ì•Œë¦¼

**ë°ì´í„° íœ˜ë°œì„±**:
- ë¸Œë¼ìš°ì € ìºì‹œ ì‚­ì œ ì‹œ ë°ì´í„° ì†ì‹¤
- localStorageë§Œ ì‚¬ìš© (ì„œë²„ ë°±ì—… ì—†ìŒ)

### í–¥í›„ ì„œë²„ ì¶”ê°€ ì‹œ ê°œì„  ì‚¬í•­

1. **ë°ì´í„°ë² ì´ìŠ¤ ì €ì¥**: localStorage â†’ DB
2. **Cron Job**: ë§¤ì¼ ì²´í¬í•˜ì—¬ ê°€ì¶œ ì„ë°• ìœ ì € ì°¾ê¸°
3. **í‘¸ì‹œ ì•Œë¦¼**:
   - Day 3.5: "ìœ„ê¸° ìƒíƒœì…ë‹ˆë‹¤!"
   - Day 6: "ë‚´ì¼ ê°€ì¶œí•©ë‹ˆë‹¤!"
4. **ì´ë©”ì¼ ì•Œë¦¼**: ê°€ì¶œ ì „ ìµœí›„ ê²½ê³ 
5. **ë³µêµ¬ ì‹œìŠ¤í…œ**: ê°€ì¶œ í›„ 24ì‹œê°„ ë‚´ ì¬í™”ë¡œ ë³µêµ¬ ê°€ëŠ¥

---

## ë°¸ëŸ°ìŠ¤ ì¡°ì • ê°€ì´ë“œ

### í‹± ê°„ê²© ë³€ê²½

**íŒŒì¼:** `src/constants/nurturing.ts`

```typescript
// í˜„ì¬: 5ì´ˆ
export const TICK_INTERVAL_MS = 5000;

// ë” ë¹ ë¥´ê²Œ (ê¸´ì¥ê° ì¦ê°€):
export const TICK_INTERVAL_MS = 3000; // 3ì´ˆ

// ë” ëŠë¦¬ê²Œ (ì—¬ìœ  ì¦ê°€):
export const TICK_INTERVAL_MS = 10000; // 10ì´ˆ
```

### ê°ì†Œìœ¨ ì¡°ì •

**íŒŒì¼:** `src/constants/nurturing.ts`

```typescript
// í˜„ì¬ ì„¤ì • (5ì´ˆë‹¹)
export const NATURAL_DECAY = {
  fullness: -0.8,
  cleanliness: -0.4,
  happiness: -0.3,
  health: 0,
};

// ë” ë¹ ë¥¸ ê°ì†Œ (ì–´ë ¤ì›€):
export const NATURAL_DECAY = {
  fullness: -1.2,    // ì•½ 7ë¶„ì— 0
  cleanliness: -0.6, // ì•½ 14ë¶„ì— 0
  happiness: -0.5,   // ì•½ 17ë¶„ì— 0
  health: 0,
};

// ë” ëŠë¦° ê°ì†Œ (ì‰¬ì›€):
export const NATURAL_DECAY = {
  fullness: -0.4,    // ì•½ 20ë¶„ì— 0
  cleanliness: -0.2, // ì•½ 40ë¶„ì— 0
  happiness: -0.15,  // ì•½ 55ë¶„ì— 0
  health: 0,
};
```

### í˜ë„í‹° ê°•ë„ ì¡°ì •

**íŒŒì¼:** `src/constants/nurturing.ts`

```typescript
// ë” ê°€í˜¹í•˜ê²Œ (í•˜ë“œì½”ì–´):
export const HUNGER_PENALTY = {
  happiness: -1.2,
  health: -1.0,
};
export const DIRTY_PENALTY = {
  happiness: -1.0,
  health: -2.0,  // ë§¤ìš° ì¹˜ëª…ì 
};
export const SICK_PENALTY = {
  happiness: -2.0,
  fullness: -1.0,
};

// ë” ê´€ëŒ€í•˜ê²Œ (ì´ì§€):
export const HUNGER_PENALTY = {
  happiness: -0.4,
  health: -0.3,
};
export const DIRTY_PENALTY = {
  happiness: -0.4,
  health: -0.6,
};
export const SICK_PENALTY = {
  happiness: -0.8,
  fullness: -0.4,
};
```

### ì„ê³„ê°’ ì¡°ì •

**íŒŒì¼:** `src/constants/nurturing.ts`

```typescript
// í˜„ì¬
export const THRESHOLDS = {
  HUNGER: 30,   // ë°°ê³ í”” ì‹œì‘
  DIRTY: 20,    // ë”ëŸ¬ì›€ ì‹œì‘
  SICK: 50,     // ì•„í”” ì‹œì‘
};

// ë” ì¼ì° ê²½ê³  (ì‰¬ì›€):
export const THRESHOLDS = {
  HUNGER: 40,   // ë” ë†’ì„ ë•Œë¶€í„° í˜ë„í‹°
  DIRTY: 30,
  SICK: 60,
};

// ë” ëŠ¦ê²Œ ê²½ê³  (ì–´ë ¤ì›€):
export const THRESHOLDS = {
  HUNGER: 20,   // ê±°ì˜ 0ì— ê°€ê¹Œì›Œì•¼ í˜ë„í‹°
  DIRTY: 10,
  SICK: 40,
};
```

### í–‰ë™ íš¨ê³¼ ì¡°ì •

**íŒŒì¼:** `src/constants/nurturing.ts`

```typescript
// ìŒì‹ íš¨ê³¼ ì¦ê°€ (ì‰¬ì›€)
export const FOOD_EFFECTS = {
  apple: {
    fullness: 30,    // 20 â†’ 30
    happiness: 8,    // 5 â†’ 8
    poopChance: 0.2, // 30% â†’ 20%
  },
  // ...
};

// ì²­ì†Œ íš¨ê³¼ ì¦ê°€
export const CLEAN_EFFECT = {
  cleanliness: 60,   // 40 â†’ 60
  happiness: 10,     // 5 â†’ 10
};

// í•™ìŠµ ìš”êµ¬ì‚¬í•­ ì™„í™”
export const STUDY_REQUIREMENTS = {
  MIN_HAPPINESS: 20,  // 30 â†’ 20
  MIN_HEALTH: 20,     // 30 â†’ 20
  MIN_FULLNESS: 10,   // 20 â†’ 10
};
```

---

## ì—…ë°ì´íŠ¸ íˆìŠ¤í† ë¦¬

### v1.2.0 (2025-11-24)

**ì²­ê²°ë„ ê±´ê°• í†µí•© ì‹œìŠ¤í…œ**
- 4ê°œ ìŠ¤íƒ¯ â†’ 3ê°œ ìŠ¤íƒ¯ (ì²­ê²°ë„ ì œê±°)
- ê±´ê°•ì´ ì²­ê²°ê³¼ ì§ˆë³‘ì„ í†µí•© ê´€ë¦¬
- ë™ì  ì•„ì´ì½˜ ì‹œìŠ¤í…œ ì¶”ê°€:
  - ê±´ê°•: ğŸ’– (80+) â†’ â¤ï¸ (50+) â†’ ğŸ’” (30+) â†’ ğŸ©¶ (10+) â†’ ğŸ–¤ (<10)
  - í–‰ë³µë„: ğŸ˜ (80+) â†’ ğŸ˜Š (60+) â†’ ğŸ™‚ (40+) â†’ ğŸ˜” (20+) â†’ ğŸ˜­ (<20)

**íšŒë³µ ìˆ˜ì¹˜ ì¬ì¡°ì •:**
- ì•½: ê±´ê°• +15, í–‰ë³µë„ -5
- ì²­ì†Œ: ê±´ê°• +5, í–‰ë³µë„ +10
- ê±´ê°•ì‹ (ê³¼ì¼): ê±´ê°• +3~5 ë³´ë„ˆìŠ¤
- ëª¨ë“  ìŒì‹: í¬ë§Œê° +10, í–‰ë³µë„ +10 (í†µì¼)

**ê±´ê°• ê°ì†Œ ì‹œìŠ¤í…œ ê°œí¸:**
- ë˜¥ í˜ë„í‹°: 1ê°œ (-0.5) â†’ 2ê°œ (-1.0) â†’ 3ê°œ+ (-2.0)
- ë°°ê³ í”” í˜ë„í‹°: ì‹¬ê° (<20) -1.0, ê²½ë¯¸ (20-40) -0.5
- ë¶ˆí–‰ í˜ë„í‹°: (<20) ê±´ê°• -0.5
- ì•„í”” í˜ë„í‹°: (<50) í–‰ë³µë„ -1.5

**ë°ì´í„° ë§ˆì´ê·¸ë ˆì´ì…˜:**
- ê¸°ì¡´ ì €ì¥ ë°ì´í„° ìë™ ë³€í™˜
- cleanlinessDebuff â†’ healthDebuff

**UX ê°œì„ :**
- ëª¨ë°”ì¼ í™”ë©´ì—ì„œ 3ê°œ ìƒíƒœê°’ìœ¼ë¡œ ê³µê°„ ì ˆì•½
- ìŠ¤íƒ¯ë³„ ì‹œê°ì  í”¼ë“œë°± ê°•í™”

---

### v1.1.0 (2025-11-23)

**ê°€ì¶œ ì‹œìŠ¤í…œ ì¶”ê°€**
- ëª¨ë“  ìŠ¤íƒ¯ 0 ì‹œì ë¶€í„° 7ì¼ ì¹´ìš´íŠ¸ë‹¤ìš´
- 4ë‹¨ê³„ ê²½ê³ : ìœ„í—˜ â†’ ìœ„ê¸° â†’ ì´íƒˆ ì˜ˆê³  â†’ ê°€ì¶œ
- ë¡œì»¬ìŠ¤í† ë¦¬ì§€ ê¸°ë°˜ ì˜¤í”„ë¼ì¸ ì§„í–‰ ê³„ì‚°
- Context API í†µí•© (abandonmentStatus)

**íƒ€ì„ë¼ì¸:**
- 0 ~ 1.75ì¼: ìœ„í—˜ ìƒíƒœ
- 1.75 ~ 3.5ì¼: ìœ„ê¸° ìƒíƒœ
- 3.5 ~ 7ì¼: ì´íƒˆ ì˜ˆê³  (ì‹¤ì‹œê°„ ì¹´ìš´íŠ¸ë‹¤ìš´)
- 7ì¼: ê°€ì¶œ ì™„ë£Œ

**ë°ì´í„° êµ¬ì¡°:**
- `AbandonmentState` íƒ€ì… ì¶”ê°€
- `ABANDONMENT_PERIODS` ìƒìˆ˜ ì •ì˜
- `checkAbandonmentState()` ë¡œì§ êµ¬í˜„
- `getAbandonmentStatusUI()` UI ì •ë³´ ì œê³µ

**ì œí•œ ì‚¬í•­:**
- ë¡œì»¬ìŠ¤í† ë¦¬ì§€ë§Œ ì‚¬ìš© (ì„œë²„ ì—†ìŒ)
- í‘¸ì‹œ ì•Œë¦¼ ë¶ˆê°€ëŠ¥
- í–¥í›„ ì„œë²„ ì¶”ê°€ ì˜ˆì •

---

### v1.0.0 (2025-11-15)

**ì´ˆê¸° ë¦´ë¦¬ì¦ˆ**
- 4ëŒ€ ìŠ¤íƒ¯ ì‹œìŠ¤í…œ êµ¬í˜„
- ë¡œì§ í‹±: 5ì´ˆ ê°„ê²©
- ìì—° ê°ì†Œ + ìƒí˜¸ ì•…í™” ë¡œì§
- ë˜¥ ì‹œìŠ¤í…œ + ë¹—ìë£¨ ì• ë‹ˆë©”ì´ì…˜
- í•™ìŠµ ì‹œìŠ¤í…œ (ì¬í™” íšë“)
- ì˜¤í”„ë¼ì¸ ì§„í–‰ ê³„ì‚°
- localStorage ìë™ ì €ì¥

**ë°¸ëŸ°ìŠ¤ ì„¤ì •:**
- í¬ë§Œê°: 10ë¶„ì— 0 ë„ë‹¬
- ì²­ê²°ë„: 20ë¶„ì— 0 ë„ë‹¬
- í–‰ë³µë„: 27ë¶„ì— 0 ë„ë‹¬
- í˜ë„í‹°: ì¤‘ê°„ ê°•ë„
- ë˜¥: ìµœëŒ€ 5ê°œ

**ë³€ê²½ ì´ìœ :**
- 1ë¶„ í‹±ì€ ë„ˆë¬´ ëŠë¦¼ â†’ 5ì´ˆë¡œ ë‹¨ì¶•
- ì‹¤ì‹œê°„ í”¼ë“œë°± í•„ìš” â†’ ë¹ ë¥¸ ê°ì†Œìœ¨ ì ìš©
- ê¸´ì¥ê° ìˆëŠ” ì¼€ì–´ ê²½í—˜ ì œê³µ

---

### í–¥í›„ ê³„íš

#### v1.1.0 (ê³„íšì¤‘)
- [ ] ë‚œì´ë„ ì„¤ì • ì¶”ê°€ (ì‰¬ì›€/ë³´í†µ/ì–´ë ¤ì›€)
- [ ] ìŠ¤íƒ¯ë³„ UI ê²½ê³  ì•Œë¦¼
- [ ] ìŒì‹/ì•½ ì•„ì´í…œ í™•ì¥
- [ ] í•™ìŠµ ë¯¸ë‹ˆê²Œì„ ì¶”ê°€

#### v1.2.0 (ê³„íšì¤‘)
- [ ] ì§„í™” ì‹œìŠ¤í…œê³¼ ì—°ë™
- [ ] íŠ¹ì • ìŠ¤íƒ¯ ì¡°ê±´ ì¶©ì¡± ì‹œ ì§„í™”
- [ ] ì§„í™” ë‹¨ê³„ë³„ ìŠ¤íƒ¯ ë³´ë„ˆìŠ¤

#### v2.0.0 (ê³„íšì¤‘)
- [ ] ì„œë²„ë¦¬ìŠ¤ ì—°ë™ (ì¬í™” ì‹œìŠ¤í…œ)
- [ ] ì¹œêµ¬ ì‹œìŠ¤í…œ
- [ ] ì—…ì /ë„ì „ê³¼ì œ
- [ ] ìºë¦­í„°ë³„ ê³ ìœ  ëŠ¥ë ¥ì¹˜

---

## ì°¸ê³  ìë£Œ

### ê´€ë ¨ íŒŒì¼

**íƒ€ì… ì •ì˜:**
- `src/types/nurturing.ts`

**ìƒìˆ˜:**
- `src/constants/nurturing.ts`

**ì„œë¹„ìŠ¤:**
- `src/services/gameTickService.ts` - í‹± ë¡œì§
- `src/services/actionService.ts` - í–‰ë™ ì²˜ë¦¬
- `src/services/persistenceService.ts` - ì €ì¥/ë¡œë“œ

**ì»¨í…ìŠ¤íŠ¸:**
- `src/contexts/NurturingContext.tsx` - ì „ì—­ ìƒíƒœ

**ì»´í¬ë„ŒíŠ¸:**
- `src/components/Poop/` - ë˜¥ + ì• ë‹ˆë©”ì´ì…˜
- `src/components/PetRoom/PetRoom.tsx` - ë©”ì¸ ê²Œì„

### ì™¸ë¶€ ë¬¸ì„œ

- [ë‹¤ë§ˆê³ ì¹˜ ìœ„í‚¤](https://tamagotchi.fandom.com/)
- [ê²Œì„ ë°¸ëŸ°ìŠ¤ ê°€ì´ë“œ](https://www.gamasutra.com/view/feature/134768/understanding_balance_in_video_.php)

---

**ë¬¸ì„œ ë²„ì „:** 1.0.0
**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸:** 2025-11-15
**ì‘ì„±ì:** Claude Code
**ë¼ì´ì„¼ìŠ¤:** Puzzleletic Project
