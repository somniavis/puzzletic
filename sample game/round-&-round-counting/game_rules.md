
# 📝 게임 규칙 및 로직 상세 명세서 (Game Logic Specification)

이 문서는 "Round & Round Counting (동글동글 카운팅)" 게임의 핵심 로직, 난이도 시스템, 점수 산정 방식 등을 정리한 것입니다. 다른 프로젝트 개발 시 참고 자료로 활용할 수 있습니다.

## 1. 게임 개요 (Overview)
*   **장르:** 관찰력 및 카운팅 퍼즐
*   **핵심 메카닉:**
    *   상단에 제시된 **목표 이모지(Target Emoji)**와 **개수(Target Count)**를 확인합니다.
    *   4x4 격자(Grid) 내에서 목표 이모지를 찾아 클릭합니다.
    *   **[핵심 기능]** 정답을 하나 찾을 때마다 격자 내의 **모든 아이템 위치가 무작위로 뒤섞입니다(Shuffle).** 이로 인해 사용자는 계속해서 변화하는 화면에 집중해야 합니다.
*   **목표:** 제한 시간 내에 생명을 잃지 않고 최대한 높은 점수를 획득하는 것.

---

## 2. 난이도 시스템 (Level & Difficulty)

게임은 3단계의 난이도로 구성되며, 사용자의 플레이 성과에 따라 실시간으로 난이도가 조정됩니다.

### A. 난이도별 설정
| 난이도 | 레벨 | 정답 개수 (Target Count) | 방해 아이템 종류 수 | 특징 |
| :--- | :--- | :--- | :--- | :--- |
| **초급 (Beginner)** | Lv 1 | 1 ~ 4개 | 4종류 | 비교적 찾기 쉽고 여유로움 |
| **중급 (Intermediate)** | Lv 2 | 3 ~ 7개 | 6종류 | 정답이 많아지고 화면이 복잡해짐 |
| **고급 (Advanced)** | Lv 3 | 5 ~ 9개 | 8종류 | 화면이 꽉 차고 구분이 어려움 |

*   **공통 사항:** 격자 크기는 항상 **16칸 (4x4)**입니다.

### B. 동적 난이도 조절 (Adaptive Difficulty)
*   **승급 (Level Up):** 다음 조건 중 하나 만족 시 난이도 상승 (최대 Lv 3)
    1.  3문제 연속 정답 (Consecutive Correct)
    2.  현재 난이도에서 누적 6문제 정답
*   **강등 (Level Down):**
    *   2문제 연속 오답 시 난이도 하락 (최소 Lv 1)

---

## 3. 점수 산정 공식 (Scoring System)

점수는 다음 요소들을 합산하여 계산됩니다.

`최종 점수 = (기본 점수 + 시간 보너스 + 연속 정답 보너스) x 아이템 배수 - 페널티`

1.  **기본 점수 (Base Score):**
    *   Lv 1: 50점
    *   Lv 2: 100점
    *   Lv 3: 150점
2.  **시간 보너스 (Time Bonus):**
    *   문제를 얼마나 빨리 풀었는가에 따라 차등 지급.
    *   공식: `(10초 - 소요시간초)` × 5점
    *   최대 50점, 최소 0점 (10초 이후 정답 시 보너스 없음).
3.  **연속 정답 보너스 (Streak Bonus):**
    *   공식: `현재 Streak` × 10점.
4.  **페널티 (Penalty):**
    *   **힌트 사용 시:** 해당 문제 총점의 **50% 차감**.
5.  **아이템 효과:**
    *   **점수 2배 아이템** 발동 중일 경우 최종 점수 **2배**.

---

## 4. 자원 관리 (Resource Management)

### A. 시간 (Time)
*   **시작 시간:** 60초.
*   **보너스 시간 지급:** 정답을 맞출 때 난이도에 따라 시간 추가.
    *   초급: +0초
    *   중급: +4초
    *   고급: +6초
*   **제한:** 최대 시간은 60초를 초과할 수 없음. 0초가 되면 게임 오버.

### B. 생명 (Lives)
*   **시작 생명:** 3개 (하트).
*   **감소:** 오답 클릭 시 1개 감소.
*   **회복:** 아이템을 통해 회복 가능 (최대 3개).
*   0개가 되면 게임 오버.

### C. 힌트 (Hints)
*   **제공 횟수:** 게임당 총 3회.
*   **기능:** 사용 시 아직 찾지 못한 정답 중 하나를 1초간 노란색 테두리로 하이라이트.
*   **패널티:** 사용한 스테이지의 획득 점수 반감.

---

## 5. 아이템 및 확률 시스템 (Power-ups)

### A. 획득 조건
*   **연속 정답(Streak)이 3의 배수(3, 6, 9...)**가 될 때마다 주사위를 굴립니다.
*   **확률:** 48% 확률로 아이템 등장.

### B. 아이템 종류
1.  **❄️ 시간 정지 (Time Freeze):**
    *   7초 동안 타이머가 줄어들지 않습니다.
2.  **❤️ 생명 추가 (Extra Life):**
    *   생명을 1개 회복합니다 (최대 3개).
3.  **⚡ 점수 2배 (Double Score):**
    *   10초 동안 획득하는 모든 점수가 2배가 됩니다.

---

## 6. 업적 시스템 (Achievements)

플레이어의 동기 부여를 위한 4가지 뱃지입니다.

1.  **🎯 첫 발견 (First Find):** 첫 번째 정답을 찾았을 때 획득.
2.  **⚡ 날카로운 눈 (Quick Eye):** 문제 시작 후 3초 이내에 클리어 시 획득.
3.  **🔥 콤보왕 (Streak Master):** 5연속 정답(Streak) 달성 시 획득.
4.  **👑 찾기 마스터 (Counting Master):** 고급(Lv 3) 난이도에서 3문제 이상 클리어 시 획득.

---

## 7. 게임 루프 상세 (Game Loop Detail)

1.  **문제 생성:** 현재 난이도에 맞춰 타겟 이모지와 방해꾼(Distractors)을 배치.
2.  **사용자 입력 대기:**
    *   **정답 클릭:**
        *   해당 아이템을 '찾음' 상태로 변경.
        *   **[트리거]** 아직 찾아야 할 타겟이 남았다면 -> **격자 셔플(Shuffle) 애니메이션 실행**.
        *   모든 타겟을 찾았다면 -> **정답 처리 (점수 계산, 시간 보상, 난이도 조정)**.
    *   **오답 클릭:**
        *   화면 흔들림 효과.
        *   생명 -1.
        *   Streak 초기화.
3.  **피드백 및 다음 문제:**
    *   정답/오답 피드백 표시 후 다음 문제 로드.

---

## 8. 게임 오버 조건 (Game Over)

다음 중 하나의 조건이라도 만족하면 게임이 종료됩니다.

1.  **Time Out:** 남은 시간이 0초가 됨.
2.  **Lives Out:** 남은 생명이 0개가 됨.
3.  **All Cleared:** 준비된 모든 문제 데이터셋(약 110개)을 소진함.

---

## 9. 사용된 이모지 리소스 (Emoji Assets)

게임 내 문제 생성에 사용되는 동물 이모지 풀(Pool)입니다.

*   **포유류 (Mammals):** 🐒 🦍 🦧 🐕 🐩 🐈‍⬛ 🐅 🐆 🐎 🦌 🦬 🐂 🐃 🐄 🐖 🐏 🐐 🐪 🦙 🦒 🐘 🦣 🦏 🦛 🐁 🐀 🐇 🐿️ 🦫 🦔 🦇 🦥 🦦 🦨 🦘 🦡 🦝 🦓
*   **조류 (Birds):** 🦃 🐓 🕊️ 🦅 🦆 🦢 🦉 🦤 🦩 🦜 🐦
*   **파충류/양서류 (Reptiles & Amphibians):** 🐊 🐢 🦎 🐍 🦕 🦖
*   **해양 생물 (Sea Creatures):** 🐳 🐬 🦭 🐟 🐠 🐡 🦈 🐙 🦑 🦐 🦞 🦀 🪼
*   **곤충 (Bugs & Insects):** 🐌 🦋 🐛 🐜 🐝 🪲 🐞 🦗 🕷️ 🦂
