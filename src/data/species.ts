import type { CharacterSpecies, EvolutionStage } from '../types/character';

export const CHARACTER_SPECIES: Record<string, CharacterSpecies> = {
  yellowJello: {
    id: 'yellowJello',
    name: 'Yellow Jello',
    description: 'A sweet and adorable jello with a sunny glow.',
    personality: 'affectionate',
    tags: ['defense', 'honey_wood'],
    evolutions: [
      {
        stage: 1,
        name: 'Yellow Jello',
        requiredLevel: 1,
        requiredAffection: 0,
        description: 'A sweet-smelling jelly. It looks like a small water drop in the forest.',
        imageUrl: 'https://pub-1411335941ed4406b5f667f40e04a814.r2.dev/jello_img/jello-yello-1.png',
      },
      {
        stage: 2,
        name: 'Twiglo',
        requiredLevel: 10,
        requiredAffection: 50,
        description: 'A small twig has grown on its head. It attracts insects with the sweet sap flowing from the branch.',
        imageUrl: 'https://pub-1411335941ed4406b5f667f40e04a814.r2.dev/jello_img/jello-yello-2.png',
      },
      {
        stage: 3,
        name: 'Vinegel',
        requiredLevel: 25,
        requiredAffection: 80,
        description: 'Wrapped in tough vines, it has high defense. It immobilizes enemies with sticky honey from between the vines.',
        imageUrl: 'https://pub-1411335941ed4406b5f667f40e04a814.r2.dev/jello_img/jello-yello-3.png',
      },
      {
        stage: 4,
        name: 'Honeybloom',
        requiredLevel: 40,
        requiredAffection: 90,
        description: 'Flowers have bloomed on its body, and it has sprouted limbs. It travels with its best friend, a honeybee, sharing honey to restore stamina.',
        imageUrl: 'https://pub-1411335941ed4406b5f667f40e04a814.r2.dev/jello_img/jello-yello-4L.png',
      },
      {
        stage: 5,
        name: 'Arboros',
        requiredLevel: 60,
        requiredAffection: 100,
        description: 'The Guardian Dragon of the Great Forest. It flies with leaf wings and puts enemies to sleep with "Honey Breath" from the flower on its tail.',
        unlockConditions: { requiredStars: 1000 },
        imageUrl: 'https://pub-1411335941ed4406b5f667f40e04a814.r2.dev/jello_img/jello-yello-5L.png',
      },
    ],
  },
  redJello: {
    id: 'redJello',
    name: 'Red Jello',
    description: 'A vibrant red jello full of energy.',
    personality: 'playful',
    tags: ['attack', 'fire_flame'],
    evolutions: [
      {
        stage: 1,
        name: 'Red Jello',
        requiredLevel: 1,
        requiredAffection: 0,
        description: 'A jelly that feels hot to the touch. When angry, its red color deepens and the surroundings get hotter.',
        imageUrl: 'https://pub-1411335941ed4406b5f667f40e04a814.r2.dev/jello_img/jello-red-1.png',
      },
      {
        stage: 2,
        name: 'Devilet',
        requiredLevel: 10,
        requiredAffection: 50,
        description: 'Cute red horns have sprouted on its head. It loves pricking things with its horns, and sparks fly when it gets mad.',
        imageUrl: 'https://pub-1411335941ed4406b5f667f40e04a814.r2.dev/jello_img/jello-red-2.png',
      },
      {
        stage: 3,
        name: 'Impgel',
        requiredLevel: 25,
        requiredAffection: 80,
        description: 'It flies nimbly with bat wings. It plays mischievous pranks and runs away, but becomes docile if given candy.',
        imageUrl: 'https://pub-1411335941ed4406b5f667f40e04a814.r2.dev/jello_img/jello-red-3.png',
      },
      {
        stage: 4,
        name: 'Pyron',
        requiredLevel: 40,
        requiredAffection: 90,
        description: 'An unquenchable flame burns on its tail. It can breathe fire and takes the lead to protect weaker friends.',
        imageUrl: 'https://pub-1411335941ed4406b5f667f40e04a814.r2.dev/jello_img/jello-red-4L.png',
      },
      {
        stage: 5,
        name: 'Infernos',
        requiredLevel: 60,
        requiredAffection: 100,
        description: 'The Lord of Hell with flowing magma. It is the incarnation of an "Oath", binding itself in chains to control its overflowing destructive power.',
        unlockConditions: { requiredStars: 1000 },
        imageUrl: 'https://pub-1411335941ed4406b5f667f40e04a814.r2.dev/jello_img/jello-red-5L.png',
      },
    ],
  },
  mintJello: {
    id: 'mintJello',
    name: 'Mint Jello',
    description: 'A cool mint jello with refreshing charm.',
    personality: 'calm',
    tags: ['heal', 'purification_plant'],
    evolutions: [
      {
        stage: 1,
        name: 'Mint Jello',
        requiredLevel: 1,
        requiredAffection: 0,
        description: 'A jelly with a cool, refreshing touch. It feeds on clear dew and leaves a fresh herbal scent.',
        imageUrl: 'https://pub-1411335941ed4406b5f667f40e04a814.r2.dev/jello_img/jello-mint-1.png',
      },
      {
        stage: 2,
        name: 'Leaflo',
        requiredLevel: 10,
        requiredAffection: 50,
        description: 'A cute sprout has appeared on its head. It loves clear water and sunlight, always looking for a sunny spot.',
        imageUrl: 'https://pub-1411335941ed4406b5f667f40e04a814.r2.dev/jello_img/jello-mint-2.png',
      },
      {
        stage: 3,
        name: 'Bloomint',
        requiredLevel: 25,
        requiredAffection: 80,
        description: 'The sprout has grown into a beautiful flower. It flutters its leaves to purify the air and give rest to its friends.',
        imageUrl: 'https://pub-1411335941ed4406b5f667f40e04a814.r2.dev/jello_img/jello-mint-3.png',
      },
      {
        stage: 4,
        name: 'Fairyleaf',
        requiredLevel: 40,
        requiredAffection: 90,
        description: 'It flies through the forest with large leaf wings. It has the ability to revive withering plants by getting close to them.',
        imageUrl: 'https://pub-1411335941ed4406b5f667f40e04a814.r2.dev/jello_img/jello-mint-4L.png',
      },
      {
        stage: 5,
        name: 'Verdantos',
        requiredLevel: 60,
        requiredAffection: 100,
        description: 'The Guardian Dragon of the Forest, clad in the vitality of nature. Its wings create "Healing Winds" that recover a wide area at once.',
        unlockConditions: { requiredStars: 1000 },
        imageUrl: 'https://pub-1411335941ed4406b5f667f40e04a814.r2.dev/jello_img/jello-mint-5L.png',
      },
    ],
  },
  blueJello: {
    id: 'blueJello',
    name: 'Blue Jello',
    description: 'A calm blue jello like the deep ocean.',
    personality: 'shy',
    tags: ['speed', 'flexibility_water'],
    evolutions: [
      {
        stage: 1,
        name: 'Blue Jello',
        requiredLevel: 1,
        requiredAffection: 0,
        description: 'A jelly transparent and cool like deep seawater. It has little facial expression and adapts flexibly to situations like water.',
        imageUrl: 'https://pub-1411335941ed4406b5f667f40e04a814.r2.dev/jello_img/jello-blue-1.png',
      },
      {
        stage: 2,
        name: 'Fingel',
        requiredLevel: 10,
        requiredAffection: 50,
        description: 'A sleek shark fin has appeared on its head. It is very fast underwater and escapes instantly in danger.',
        imageUrl: 'https://pub-1411335941ed4406b5f667f40e04a814.r2.dev/jello_img/jello-blue-2.png',
      },
      {
        stage: 3,
        name: 'Coralin',
        requiredLevel: 25,
        requiredAffection: 80,
        description: 'Colorful coral decorations have appeared on its body. It can breathe underwater and has a body hard enough to withstand water pressure.',
        imageUrl: 'https://pub-1411335941ed4406b5f667f40e04a814.r2.dev/jello_img/jello-blue-3.png',
      },
      {
        stage: 4,
        name: 'Hydro',
        requiredLevel: 40,
        requiredAffection: 90,
        description: 'It has fin wings and shoots "Water Cannons" from its mouth. It enjoys meditating at the bottom of deep water.',
        imageUrl: 'https://pub-1411335941ed4406b5f667f40e04a814.r2.dev/jello_img/jello-blue-4L.png',
      },
      {
        stage: 5,
        name: 'Oceanos',
        requiredLevel: 60,
        requiredAffection: 100,
        description: 'The Water Dragon ruling the sea. It has transparent, glowing scales, and causes massive tsunamis when angered.',
        unlockConditions: { requiredStars: 1000 },
        imageUrl: 'https://pub-1411335941ed4406b5f667f40e04a814.r2.dev/jello_img/jello-blue-5L.png',
      },
    ],
  },
  purpleJello: {
    id: 'purpleJello',
    name: 'Purple Jello',
    description: 'A royal purple jello with mystical aura.',
    personality: 'grumpy',
    tags: ['magic', 'poison_curse'],
    evolutions: [
      {
        stage: 1,
        name: 'Purple Jello',
        requiredLevel: 1,
        requiredAffection: 0,
        description: 'A jelly that glows at night. It makes sounds like chanting unknown spells in babble.',
        imageUrl: 'https://pub-1411335941ed4406b5f667f40e04a814.r2.dev/jello_img/jello-purple-1.png',
      },
      {
        stage: 2,
        name: 'Wisper',
        requiredLevel: 10,
        requiredAffection: 50,
        description: 'A Will-o\'-the-wisp has appeared on its tail. It communicates with spirits using this light and illuminates dark paths.',
        imageUrl: 'https://pub-1411335941ed4406b5f667f40e04a814.r2.dev/jello_img/jello-purple-2.png',
      },
      {
        stage: 3,
        name: 'Runeimp',
        requiredLevel: 25,
        requiredAffection: 80,
        description: 'A single horn engraved with ancient runes has sprouted on its forehead. It lures enemies with its tail light to confuse them.',
        imageUrl: 'https://pub-1411335941ed4406b5f667f40e04a814.r2.dev/jello_img/jello-purple-3.png',
      },
      {
        stage: 4,
        name: 'Spellbound',
        requiredLevel: 40,
        requiredAffection: 90,
        description: 'It is wrapped in talisman strips to control its magic power. Its best friend, a Skull, watches its back.',
        imageUrl: 'https://pub-1411335941ed4406b5f667f40e04a814.r2.dev/jello_img/jello-purple-4L.png',
      },
      {
        stage: 5,
        name: 'Arcanios',
        requiredLevel: 60,
        requiredAffection: 100,
        description: 'An ancient Magic Dragon with its seal broken. A guide of the underworld who grants extensive curses or blessings with a flap of its wings.',
        unlockConditions: { requiredStars: 1000 },
        imageUrl: 'https://pub-1411335941ed4406b5f667f40e04a814.r2.dev/jello_img/jello-purple-5L.png',
      },
    ],
  },
  orangeJello: {
    id: 'orangeJello',
    name: 'Orange Jello',
    description: 'A tangy and zestful orange jello full of vitamins.',
    personality: 'energetic',
    tags: ['hp', 'vitality_buff'],
    evolutions: [
      {
        stage: 1,
        name: 'Orange Jello',
        requiredLevel: 1,
        requiredAffection: 0,
        description: 'A jelly with a fresh scent like freshly squeezed juice. It loves bouncing around like a ball due to its high elasticity.',
        imageUrl: 'https://pub-1411335941ed4406b5f667f40e04a814.r2.dev/jello_img/jello-orange-1.png',
      },
      {
        stage: 2,
        name: 'Mandapop',
        requiredLevel: 10,
        requiredAffection: 50,
        description: 'Ears like tangerine slices have appeared. When happy, soda-like bubbles rise up. It is good at rolling.',
        imageUrl: 'https://pub-1411335941ed4406b5f667f40e04a814.r2.dev/jello_img/jello-orange-2.png',
      },
      {
        stage: 3,
        name: 'Citrupix',
        requiredLevel: 25,
        requiredAffection: 80,
        description: 'A sprout and small wings have served on its head. It photosynthesizes in sunlight to share refreshing energy with surroundings.',
        imageUrl: 'https://pub-1411335941ed4406b5f667f40e04a814.r2.dev/jello_img/jello-orange-3.png',
      },
      {
        stage: 4,
        name: 'Vitawing',
        requiredLevel: 40,
        requiredAffection: 90,
        description: 'A "Life Tangerine" full of nutrients grows on its tail. It shares juice with exhausted allies to restore their vitality.',
        imageUrl: 'https://pub-1411335941ed4406b5f667f40e04a814.r2.dev/jello_img/jello-orange-4L.png',
      },
      {
        stage: 5,
        name: 'Tangeros',
        requiredLevel: 60,
        requiredAffection: 100,
        description: 'A Fruit Dragon with resilient vitality. Its "Citrus Breath" is refreshing enough to make enemies lose their will to fight.',
        unlockConditions: { requiredStars: 1000 },
        imageUrl: 'https://pub-1411335941ed4406b5f667f40e04a814.r2.dev/jello_img/jello-orange-5L.png',
      },
    ],
  },
  creamJello: {
    id: 'creamJello',
    name: 'Cream Jello',
    description: 'A soft and fluffy cream jello with a gentle heart.',
    personality: 'calm',
    tags: ['bind', 'stability_normal'],
    evolutions: [
      {
        stage: 1,
        name: 'Cream Jello',
        requiredLevel: 1,
        requiredAffection: 0,
        description: 'A cozy jelly smelling of freshly baked bread. Laid-back personality, often found melting asleep in sunny spots.',
        imageUrl: 'https://pub-1411335941ed4406b5f667f40e04a814.r2.dev/jello_img/jello-cream-1.png',
      },
      {
        stage: 2,
        name: 'Mewlo',
        requiredLevel: 10,
        requiredAffection: 50,
        description: 'Cat ears have risen on its head. It has sensitive hearing and jumps up from sleep at the sound of a snack bag opening.',
        imageUrl: 'https://pub-1411335941ed4406b5f667f40e04a814.r2.dev/jello_img/jello-cream-2.png',
      },
      {
        stage: 3,
        name: 'Whiskel',
        requiredLevel: 25,
        requiredAffection: 80,
        description: 'With whiskers and a long tail, it can do a perfect "loaf" pose. It loves narrow boxes and slaps the floor with its tail if annoyed.',
        imageUrl: 'https://pub-1411335941ed4406b5f667f40e04a814.r2.dev/jello_img/jello-cream-3.png',
      },
      {
        stage: 4,
        name: 'Keepurr',
        requiredLevel: 40,
        requiredAffection: 90,
        description: 'Too lazy to move, it maintains the "loaf" pose. The fish on its head and yarn on its tail are treasures it defends with a hiss.',
        imageUrl: 'https://pub-1411335941ed4406b5f667f40e04a814.r2.dev/jello_img/jello-cream-4L.png',
      },
      {
        stage: 5,
        name: 'Felinos',
        requiredLevel: 60,
        requiredAffection: 100,
        description: 'An elegant Cat Dragon. The jelly paw prints on its wings lower enemies\' guard before it strikes with a powerful "Meow Punch".',
        unlockConditions: { requiredStars: 1000 },
        imageUrl: 'https://pub-1411335941ed4406b5f667f40e04a814.r2.dev/jello_img/jello-cream-5L.png',
      },
    ],
  },
  pinkJello: {
    id: 'pinkJello',
    name: 'Pink Jello',
    description: 'A lovely pink jello, full of affection and sweetness.',
    personality: 'affectionate',
    tags: ['sleep', 'illusion_cottoncandy'],
    evolutions: [
      {
        stage: 1,
        name: 'Pink Jello',
        requiredLevel: 1,
        requiredAffection: 0,
        description: 'A pink jelly smelling of strawberries. When happy, it swells up and emits a sweet scent.',
        imageUrl: 'https://pub-1411335941ed4406b5f667f40e04a814.r2.dev/jello_img/jello-pink-1.png',
      },
      {
        stage: 2,
        name: 'Lolligel',
        requiredLevel: 10,
        requiredAffection: 50,
        description: 'Lollipop antennae have appeared on its head. It waves them to comfort depressed friends.',
        imageUrl: 'https://pub-1411335941ed4406b5f667f40e04a814.r2.dev/jello_img/jello-pink-2.png',
      },
      {
        stage: 3,
        name: 'Twingel',
        requiredLevel: 25,
        requiredAffection: 80,
        description: 'Star candy decorations sparkle on its body. It makes a clear, popping sound whenever it moves.',
        imageUrl: 'https://pub-1411335941ed4406b5f667f40e04a814.r2.dev/jello_img/jello-pink-3.png',
      },
      {
        stage: 4,
        name: 'Cottonpuff',
        requiredLevel: 40,
        requiredAffection: 90,
        description: 'It floats around with fluffy cotton candy clouds. It hides delicious snacks inside the cotton candy.',
        imageUrl: 'https://pub-1411335941ed4406b5f667f40e04a814.r2.dev/jello_img/jello-pink-4L.png',
      },
      {
        stage: 5,
        name: 'Candios',
        requiredLevel: 60,
        requiredAffection: 100,
        description: 'A Fantasy Dragon with cotton candy wings. The sweet powder it scatters puts enemies into a deep, happy sleep.',
        unlockConditions: { requiredStars: 1000 },
        imageUrl: 'https://pub-1411335941ed4406b5f667f40e04a814.r2.dev/jello_img/jello-pink-5L.png',
      },
    ],
  },
};

// Export type for species IDs
export type CharacterSpeciesId = keyof typeof CHARACTER_SPECIES;

/**
 * Gets the name of a specific evolution stage for a character species.
 * @param speciesId The ID of the character species.
 * @param stage The evolution stage.
 * @returns The name of the evolution, or the base species name if not found.
 */
export function getEvolutionName(speciesId: string, stage: EvolutionStage): string {
  const species = CHARACTER_SPECIES[speciesId];
  if (!species) {
    return 'Unknown';
  }
  const evolution = species.evolutions.find(e => e.stage === stage);
  return evolution?.name || species.name;
}
